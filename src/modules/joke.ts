import { ChatMessage } from "@twurple/chat";
import ChatMoudle from "~/modules/chat";

export default class JokeModule extends ChatMoudle {
  private history: number[] = [];

  constructor(target: string) {
    super(target);
  }
  onMessage(_1: string, _2: string, text: string, msg: ChatMessage) {
    if (text === "!çˆ›ç¬‘è©±") {
      const list = [
        "è€¶ç©Œæ¸¸æ³³ ç©Œæ‰“æ°´",
        "æ±äº¬å¿µTokyo é‚£äº¬éƒ½å¿µä»€éº¼ äº¬éƒ½å¿µæ…ˆåºµ",
        "ç‚ºä½•çŒ©çŒ©åœ¨å‹•ç‰©åœ’è£¡éƒ½æ²’äººæ•¢æƒ¹ç‰ ï¼Ÿå› ç‚ºç‰ æ•²èƒ¸çš„",
        "(ðŸ”ª) åˆ®é¬åˆ€",
        "è€é—†è¦æˆ‘ç‡’é–‹æ°´ ä½†æˆ‘åªæ•¢ç‡’åˆ°99åº¦ å› ç‚ºæˆ‘æ€•å…¬å¸å‡ºç¾ å…©å€‹æ²¸ç‰©",
        "å¦‚æžœæŸ¯å—è·³æ¨“äº† èª°æœƒæœ€é›£éŽ ç°åŽŸå“€ å› ç‚ºæ–°ä¸€è·³ï¼Œå“€å°±é–‹å§‹ç…Žç†¬",
        'ã€Œå…ˆç”Ÿä½ å¥½ï¼Œé€™æ˜¯æˆ‘å€‘åº—è´ˆé€çš„å°èœã€"ä¸ç”¨äº†æˆ‘ä¸éœ€è¦"ã€ŒçœŸçš„å—Ž?é€™å¯æ˜¯ä½ çš„ç­çµ²å–”ã€',
        "ç†¬å¤œå‚·è‚ æ‰€ä»¥ä½ æ‡‰è©²è¦å«æˆ‘ å°å¿ƒè‚",
        "æœ‰ä¸€ä½AVå¥³å„ªè¦æ‹Aç‰‡ æœ¬ä¾†æ˜¯è¬›å¥½è¦éœ²ä¸‰é»ž ä½†ç•¶å¤©èªªåªèƒ½éœ²å…©é»ž å°Žæ¼”å°±å•ç‚ºä»€éº¼åŽŸæœ¬èªªå¥½è¦éœ²ä¸‰é»ž ç‚ºä»€éº¼åªå‰©å…©é»žï¼Ÿç„¶å¾Œä»–èªªï¼šå› ç‚ºä»Šå¤©æœ‰ä¸€é»žä¸èˆ’æœã€‚ ",
        "ä¾¿åˆ©å•†åº— é¡§å®¢:æˆ‘è¦å–è²¨ åº—å“¡:è«‹å•è²´å§“ä»¥åŠå¾Œä¸‰ç¢¼ é¡§å®¢:å§“åŒ… 763 åº—å“¡:é¨™äººçš„å§",
        "æ¥ŠéŽæœ€æ„›åƒä»€éº¼ï¼Ÿå°ç± åŒ…",
        "å£½å¸éƒŽæ˜¯å“ªè£¡äºº å£½å¸éƒŽè¥¿èžºäºº å› ç‚ºå±¬è¥¿èžº",
        "ç‚ºä»€éº¼éµé”å°¼è™Ÿæ²ˆæ²’äº†ï¼Ÿå› ç‚ºå‚‘å…‹æŠŠèžºçµ²å¼„é¬†äº†",
        "éœçˆ¾çš„ç§»å‹•åŸŽå ¡å¦‚æžœæ‹ç¬¬äºŒé›†è¦å«ä»€éº¼ï¼Ÿéœçˆ¾çš„å…©æ£ŸåŸŽå ¡",
        "è¬›æ—¥æ–‡çš„é’è›™ æ‘³å°¼å‰è›™",
        "åª½çš„ æ˜¯è¡¨é”æƒ…ç·’çš„ç”¨è©ž çˆ¶çš„ æ˜¯é£Ÿç‰©",
        "ä»€éº¼é£²æ–™æœ€å¥½çŽ© å–å‰©çš„é£²æ–™",
        "æ°´æ‰‹çš„ç›¸å ç«è…¿",
        "æŽç™½æ˜¯æ€Žéº¼æ­»çš„å‘¢ï¼Ÿï¼Ÿï¼Ÿ ä»– è©©å¯«éŽå¤š",
        "è­¦è¡›åœ¨ç¬‘ä»€éº¼ï¼Ÿæ ¡é–€å£",
        "ä¸€ç™¾éš»èŒèšªä¸€èµ·æ¯”è³½ å“ªä¸€éš»è´äº†ï¼Ÿéƒ½æ²’è´ï¼Œå› ç‚ºç™¾èŒå…¨è¼¸",
        "å°å±å­©åƒäº†ç½Œç²ŸèŠ±æœƒè®Šæˆç½Œç²Ÿå°å­",
        "ä½ çŸ¥é“èœ˜è››äººç¬¬å¹¾é›†çš„æ™‚å€™çµå©šå—Žï¼Ÿç¬¬ä¸ƒé›†ï¼Œå› ç‚ºèœ˜è››äººä¸ƒ",
        "åŽ»åŠ æ²¹ç«™æœ€æ€•é‡åˆ°ä»€éº¼äººï¼Ÿæ²¹æ§æ»‘æŽ‰çš„äºº",
        "ä»€éº¼ç­†æœƒå”±æ­Œï¼Ÿ Yoasobi",
        "åœ¨é¹½å±±ä¸èƒ½åšä»€éº¼ï¼Ÿå°¿å°¿ï¼Œå› ç‚ºæœƒå°¿åˆ°é¹½",
        "é˜¿ç¬ åšå£«ä¹‹å‰æ˜¯ä»€éº¼ï¼Ÿé˜¿ç¬ ç¢©å£«",
        "äººçš„äº¤é€šå·¥å…·æ˜¯è»Šè·Ÿé£›æ©Ÿï¼Œé‚£ç¥žçš„äº¤é€šå·¥å…·æ˜¯ä»€éº¼ï¼Ÿå¯¶è² å› ç‚ºç¥žé¨Žå¯¶è²",
        "éŽå¹´æ™‚ç¯€å¿«åˆ°äº†ï¼Œç‚ºä»€éº¼è²¨ç‰©éƒ½è¢«é»åœ¨ä¸€èµ·äº†å‘¢ï¼Ÿå› ç‚ºå¹´(é»)è²¨å¤§è¡—",
        "å“ªå…©å€‹å§“æ°åœ¨ä¸€èµ·æœ€é•·å£½ï¼Ÿå³å’Œé»ƒï¼Œå› ç‚º å³é»ƒè¬æ­²è¬æ­²è¬è¬æ­²",
        "ä»€éº¼è¡£æœæœ€é›£ä¹¾ï¼Ÿ æ½®T",
        "ç‚ºä»€éº¼äº”å­æ£‹é»‘æ£‹è¦å…ˆä¸‹ï¼Ÿå› ç‚ºç™½å­å…ˆè¡Œæœƒ ç™½èµ°ä¸€æ­¥ ç™½è²»åŠ›æ°£",
        "ç§˜å¯†ä¸å¯ä»¥è·Ÿå–œæ­¡åƒä»€éº¼æ±è¥¿çš„äººè¬›ï¼ŸèžƒèŸ¹ å› ç‚ºä»–å¾ˆå–œæ­¡èŸ¹è‚‰ï¼ˆæ´©æ¼ï¼‰",
        "æœ‰ä¸€å¤©çƒé¾œè·Ÿè¸ç‰›äº’æ’žå‡ºäº†è»Šç¦,é›™æ–¹éƒ½è¢«é€åˆ°é†«é™¢,è­¦å¯Ÿåˆ°å ´å•äº†é›™æ–¹è»Šç¦æ€Žéº¼ç™¼ç”Ÿçš„? çƒé¾œç­”:å°±ç‰ é—–äº†ç´…ç‡ˆç„¶å¾Œå°±è»Šç¦äº† è¸ç‰›ç­”:ä¸€åˆ‡éƒ½ç™¼ç”Ÿå¾—å¤ªå¿«äº†",
        "èœˆèš£åª½åª½åœ¨é†«é™¢ç”Ÿç”¢ é†«ç”Ÿèªªï¼šåŠ æ²¹ï¼Œèœˆèš£å¯¶å¯¶å¿«å‡ºä¾†äº†ï¼ è…³å‡ºä¾†äº†ï¼Œè…³å‡ºä¾†äº†ï¼Œè…³å‡ºä¾†äº†ï¼Œè…³å‡ºä¾†äº†ï¼Œè…³å‡ºä¾†äº†ï¼Œè…³å‡ºä¾†äº†...",
        "æ„›ç”Ÿæ°£çš„äººè¦ç°½ä»€éº¼å¥‘ç´„ è³£èº«å¥‘",
        "åœ¨å‘‚å¸ƒèƒŒå›ä¸åŽŸå¾ŒéŽäº†ä¸ä¹…ï¼ŒæŸæ¬¡å‘‚å¸ƒåœ¨åŸŽç‰†çš„èµ°é“ä¸Šçœ‹è¦‹ä¸åŽŸçš„å†¤é­‚ åš‡å¾—å‘‚å¸ƒå¤§å–Š:æˆ‘æ“ï¼ŒåŽŸ",
        "çŽ»ç’ƒæŽ‰ä¸‹ä¾†ä¹‹å‰æœƒèªªä»€éº¼ï¼Ÿæ™šå®‰ å› ç‚ºä»–è¦ç¢Žã„Œ",
        "æœ‰ä¸€ä½è€å…ˆç”Ÿ åå«é˜¿éµ ä»–é¤Šäº†ä¸€éš»ç‹—å«å…­å…­ æœ‰ä¸€å¤©ä»–åŽ»å…¬åœ’é›ç‹— èªè­˜ä»–çš„äººçœ‹åˆ°ä»–èªª å“‡è€éµé›å…­å…­é˜¿",
        "ä»€éº¼å‹•ç‰©æœ€å®‰éœ çŒ©çŒ© å› ç‚ºå¤©ä¸Šçš„æ˜Ÿæ˜Ÿä¸èªªè©±â‹¯â‹¯",
        "äºžçµ²å¨œåŒå­¸ä¸€ç›´å“­ æ¡äººä¾¿æ‘¸äº†äºžçµ²å¨œçš„é ­èªªä¸è¦å“­äº† å¯æ˜¯äºžçµ²å¨œé‚„æ˜¯ä¸€ç›´å“­ æ¡äººä¾¿ç”Ÿæ°£å¤§å–Šã€Œé‚„è¦å“­ï¼æ‘¸é ­é‚„è¦å“­ï¼ã€",
        "çŸ¥é“åŒ—æŠ•ç‚ºä»€éº¼è¦å«åŒ—æŠ•å—Ž å› ç‚ºå—å‹¢è§’",
        "å‰›å‰›åŽ»è¶…å•†å–è²¨ åº—å“¡æ‰¾ä¸åˆ°å°±è·‘ä¾†å•æˆ‘ï¼šä½ æ˜¯ä¸æ˜¯å°ä»¶è²¨ï¼Ÿ",
        "å°åŒ—çš„å“ªä¸€å€‹å¤œå¸‚æœƒé¨™äººï¼Ÿè‡¨æ±Ÿè¡—é€šåŒ–å¤œå¸‚ å› ç‚º ä½ å“­è‘—å°æˆ‘èªªï¼Œé€šåŒ–ï¼ˆç«¥è©±ï¼‰è£¡éƒ½æ˜¯é¨™äººçš„",
        "è·¯ä¸Šçœ‹åˆ°ä¸€éš»å‡æ­»çš„èœœèœ‚ï¼Œå¯èƒ½é£›èµ°äº†å§ï¼Ÿå›žéŽç¥žä¾†é‚£éš»èœœèœ‚ä¸è¦‹äº† å‡æ­» bee å’§ï¼Ÿ",
        "ä½ çŸ¥é“æˆ‘ç‚ºä»€éº¼è¼¸æ¶²çš„æ™‚å€™åœ¨ç¬‘å˜›ï¼Ÿå› ç‚ºæˆ‘ç¬‘é»žä½Ž",
        "ä½ çŸ¥é“ä»€éº¼å‹•ç‰©å¥½ç¬‘çš„å—Ž æµ·é°»ï¼Œæµ·é°»å¥½ç¬‘çš„",
      ];
      let index;
      while (
        this.history.includes((index = Math.floor(list.length * Math.random())))
      );
      this.history.push(index);
      if (this.history.length > 10) this.history.shift();
      this.chatClient.say(this.target.name, list[index], { replyTo: msg });
    }
  }
}
